<launch>

  <arg name="period" default="0.02" />
  <arg name="start_hydra" default="true" />
  <arg name="device" default="hydra" />
  <arg name="radius" default="2.0" />
  
  <include if="$(arg start_hydra)" file="$(find razer_hydra)/launch/hydra.launch">
    <arg name="publish_tf" value="true"/>
    <arg name="polling_ms" value="30"/>
  </include>

  <arg name="command_args" value="-d $(find pr2_surrogate)/config/pr2_teleop.rviz" />
  
  <node name="$(anon rviz)" pkg="rviz" type="rviz" required="true" 
        respawn="false" output="screen" args="$(arg command_args)">
  </node>

  <node name="desktop_audio_capture" pkg="audio_capture" type="audio_capture" output="screen">
    <param name="bitrate" value="40"/>
    <remap from="audio" to="desktop_audio"/>
  </node>

  <node name="pr2_audio_play" pkg="audio_play" type="audio_play" output="screen">
    <param name="dst" value="alsasink"/>
    <remap from="audio" to="pr2_audio"/>
  </node>

  <node pkg="tf" type="static_transform_publisher" name="hydra_to_base_link_pub" 
        args="1.2 0 0.7 0 0 0 1 base_link hydra_base 30"/>
 
</launch>
